# 1C Platform Tools

Расширение для Visual Studio Code с инструментами разработки для экосистемы 1С. Предоставляет удобный интерфейс для работы с проектами 1С через панель команд и дерево задач.

## Возможности

Откройте панель "1C Platform Tools" в боковой панели VS Code. Все команды организованы по категориям:

### Панель команд 1C Platform Tools

![Панель команд 1C Platform Tools](resources/treeview-screenshot.png)

Все команды доступны через дерево задач в боковой панели:

- **Информационные базы**: операции с ИБ
- **Конфигурация**: работа с конфигурацией
- **Расширения**: работа с расширениями
- **Внешние файлы**: обработки и отчеты
- **Зависимости**: управление зависимостями
- **Запуск**: запуск приложений 1С
- **Тестирование**: тесты и проверки
- **Задачи (workspace)**: задачи и конфигурации запуска

Также доступны команды через палитру команд (`Ctrl+Shift+P` → введите "1C").

## Требования

- Visual Studio Code версии 1.106.1 или выше
- Node.js версии 18.x или выше
- OneScript (oscript) - для выполнения скриптов
- vanessa-runner (vrunner) - для выполнения команд 1С
- OPM (OneScript Package Manager) - для управления зависимостями

## Установка

1. Откройте VS Code
2. Перейдите в раздел Extensions (Ctrl+Shift+X)
3. Найдите "1C Platform Tools"
4. Нажмите "Install"

## Настройка

Расширение автоматически активируется при открытии проекта 1С (наличие файла `packagedef` в корне проекта).

Настройки доступны через `File > Preferences > Settings` (или `Ctrl+,`) и поиск "1C Platform Tools". Параметры подключения к информационной базе настраиваются в файле `env.json` в корне проекта:

```json
{
  "default": {
    "--ibconnection": "/F./build/ib"
  }
}
```

## Структура проекта

Расширение опирается на структуру каталогов проекта [vanessa-bootstrap](https://github.com/yellow-hammer/vanessa-bootstrap) — шаблона правильной разработки на платформе 1С:Предприятие 8.

Рекомендуемая структура проекта:

```txt
project/
├── build/
│   ├── ib/                 # Информационная база
│   └── out/                # Собранные файлы
├── src/
│   ├── cf/                 # Исходники конфигурации
│   ├── cfe/                # Исходники расширений
│   ├── epf/                # Исходники внешних обработок
│   └── erf/                # Исходники внешних отчетов
├── oscript_modules/        # Зависимости (устанавливаются через OPM)
├── env.json                # Настройки подключения к ИБ
└── packagedef              # Файл для активации расширения
```

## Важные нюансы

- Все команды выполняются в терминале VS Code для видимости вывода
- Расширение автоматически ищет `vrunner.bat` в `oscript_modules/bin/` проекта
- Параметр `--ibconnection` берется из `env.json` (секция `default['--ibconnection']`, по умолчанию `/F./build/ib`)
- Все пути к файлам внутри workspace должны быть относительными
- Для использования `ibcmd` требуется установка платформы 1С:Предприятие с компонентом **"Сервер 1С: Предприятия 8"** (настройка `1c-platform-tools.useIbcmd`)

## Для разработчиков

Если вы хотите внести вклад в проект или разработать собственные команды, ознакомьтесь с [документацией для разработчиков](docs/README.md).

## Лицензия

MIT License. Подробности см. в файле [LICENSE](LICENSE).

## Автор

Ivan Karlo (<i.karlo@outlook.com>)

При желании, отблагодарить автора можно по ссылке:

- [Boosty](https://boosty.to/1carlo/donate)
- [Сбор в Т-банк](https://www.tbank.ru/cf/4kILVyrLKwq)
